{"version":3,"sources":["components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","image/profilePhoto.jpg","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsConteiner.jsx","components/Profile/ProfileInfo/StatusProfile.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","Post","className","css","item","src","this","props","message","likesCount","React","Component","maxLength10","maxWords","MyPosts","memo","listPosts","postsData","map","index","key","fieldEntry","ReduxPostField","onSubmit","post","addPost","postMessage","reduxForm","form","handleSubmit","createNewForm","Textarea","stateField","MyPostsContenier","connect","state","profilePage","newPostText","dispatch","addPostProfile","StatusProfile","editMode","text","status","setState","editStatus","e","target","value","prefProps","prevState","onClick","changeEditMode","bind","onChange","editTextStatus","onBlur","autoFocus","ProfileInfo","formData","setNewProfileInfo","then","setEditStatus","event","files","length","console","log","saveNewPhoto","myProfile","profile","ProfileInfoEditerForm","initialValues","bossProfile","addNewPhotoForProfile","Object","keys","contacts","elem","ProfileMyContacts","title","avatar","ProfileMyInfo","photos","large","profilePhoto","type","userId","aboutMe","lookingForAJobDescription","fullName","error","Input","Profile","MyPostsConteiner","ProfileContainer","match","params","idUser","history","push","getProfile","getStatus","updateProfile","prevProps","snapshot","compose","auth","withRouter","withAuthRedirect"],"mappings":"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","file":"static/js/3.2d79ddeb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"MyPosts_item__5U9FE\",\"fieldEntry\":\"MyPosts_fieldEntry__3oNTG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1BWqp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"ProfileInfo_avatar__22AH9\"};","module.exports = __webpack_public_path__ + \"static/media/profilePhoto.69e24b7d.jpg\";","import React, { Component } from \"react\"\r\nimport css from \"./Post.module.css\"\r\n\r\n\r\nclass Post extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className={css.item}>\r\n                <img src=\"http://gloria-mur.ru/wp-content/uploads/2017/05/avatar1-740x463.jpg\" />\r\n                    {this.props.message}\r\n                <div>\r\n                    <span>like</span>{this.props.likesCount}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Post;\r\n","import React, { PureComponent } from \"react\";\r\nimport css from './MyPosts.module.css';\r\nimport Post from \"./Post/Post\";\r\nimport { Field, reduxForm } from \"redux-form\"\r\nimport { stateField, maxWords } from \"../../../util/varibals/validators\";\r\nimport { Textarea, Input, createNewForm } from \"../../Common/FormsControl/FormsControl\";\r\n\r\n\r\n\r\nlet maxLength10 = maxWords(10)\r\n\r\nconst MyPosts = React.memo( props => {\r\n    const onSubmit = (post) => {\r\n        props.addPost(post.postMessage)\r\n    }\r\n    let listPosts = props.postsData.map((item, index)=>{\r\n        return <Post key={index} message={item.message} likesCount={item.likesCount} />\r\n    })\r\n    return (\r\n        <div className={css.item}>\r\n            My posts\r\n            <div className={css.fieldEntry}>\r\n                <ReduxPostField onSubmit={onSubmit}/>\r\n            </div>\r\n            {listPosts}\r\n        </div>\r\n    )\r\n} )\r\n\r\n\r\n\r\nlet PostField = (props) => {\r\n    \r\n    return <form onSubmit={props.handleSubmit}>\r\n        {createNewForm(\"postMessage\", Textarea, \"Enter your new post\", [stateField, maxLength10])}\r\n        <div><button>App post</button></div>\r\n    </form>\r\n}\r\nlet ReduxPostField = reduxForm({form:\"postField\"})(PostField)\r\nexport default MyPosts;","import { updateNewPostTextProfile, addPostProfile} from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        postsData: state.profilePage.postsData,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) =>{\r\n    return {\r\n        addPost: (post)=>{\r\n            dispatch(addPostProfile(post))\r\n        }\r\n    }\r\n}\r\nconst MyPostsContenier = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\nexport default MyPostsContenier;","import React, { Component } from \"react\"\r\n\r\nclass StatusProfile extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            editMode: true,\r\n            text: this.props.status\r\n        }\r\n    }\r\n    changeEditMode() {\r\n        this.setState({ editMode: !this.state.editMode })\r\n        if (!this.state.editMode) {\r\n            this.props.editStatus(this.state.text)\r\n        }\r\n    }\r\n    editTextStatus(e) {\r\n        this.setState({ text: e.target.value })\r\n    }\r\n    componentDidUpdate(prefProps, prevState) {\r\n       if(prefProps.status !== this.props.status){\r\n           this.setState({text:this.props.status})\r\n       }\r\n    }\r\n    render() {\r\n        return <div>\r\n            {\r\n                this.state.editMode\r\n                    ? <span onClick={this.changeEditMode.bind(this)}>{!this.props.status ? \"Введите статус\" : this.props.status}</span>\r\n                    : <input onChange={this.editTextStatus.bind(this)} onBlur={this.changeEditMode.bind(this)} autoFocus={true} value={this.state.text} />\r\n            }\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default StatusProfile","import React, { Component } from \"react\"\r\nimport css from './ProfileInfo.module.css'\r\nimport StatusProfile from \"./StatusProfile\"\r\nimport { createNewForm, Textarea, Input  } from \"./../../Common/FormsControl/FormsControl\"\r\nimport { reduxForm } from 'redux-form'\r\nimport profilePhoto from \"./../../../image/profilePhoto.jpg\"\r\nclass ProfileInfo extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            editStatus:false\r\n        }\r\n    }\r\n    \r\n    onSubmit(formData){\r\n        this.props.setNewProfileInfo(formData).then(()=>{\r\n            this.setEditStatus()\r\n        })\r\n    }\r\n\r\n    addNewPhotoForProfile(event){\r\n        if(event.target.files.length){\r\n            console.log(event.target.files[0])\r\n            this.props.saveNewPhoto(event.target.files[0])\r\n        }\r\n    }\r\n    setEditStatus(){\r\n        this.setState({editStatus:!this.state.editStatus})\r\n    }\r\n    render(){\r\n        let myProfile = <div>\r\n            <img src=\"https://pics.livejournal.com/shpilenok/pic/001p0qdt\" />\r\n            <p>Бещук Павел</p>\r\n        </div>  \r\n            if(this.props.profile){\r\n                myProfile = <div>\r\n                    {this.state.editStatus ? <ProfileInfoEditerForm initialValues={this.props.profile} onSubmit={this.onSubmit.bind(this)} profile={this.props.profile} setEditStatus={this.setEditStatus.bind(this)}/>: \r\n                    <>\r\n                        < ProfileMyInfo \r\n                            profile={this.props.profile} \r\n                            status={this.props.status} \r\n                            editStatus={this.props.editStatus} \r\n                            bossProfile={this.props.bossProfile}\r\n                            setEditStatus={this.setEditStatus.bind(this)}\r\n                            addNewPhotoForProfile={this.addNewPhotoForProfile.bind(this)}\r\n                        />\r\n                        <div>\r\n                            <b>Контакты</b>\r\n                            {Object.keys(this.props.profile.contacts).map((elem, key)=>{\r\n                                return <div key={key}>\r\n                                    <ProfileMyContacts title={elem} contacts={this.props.profile.contacts[elem]}/>\r\n                                </div>\r\n                            })}\r\n                        </div>\r\n                    </>\r\n                    }\r\n                </div>\r\n            }\r\n        return (\r\n            <div className={css.avatar}>\r\n                {myProfile}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst ProfileMyInfo = (props) => {\r\n    return <>\r\n        <img src={props.profile.photos.large || profilePhoto} />\r\n        <div><button onClick={props.setEditStatus}>Edit</button></div>\r\n        {props.bossProfile && <input type=\"file\" onChange = {props.addNewPhotoForProfile}/>}\r\n        < StatusProfile status={props.status} editStatus={props.editStatus} {...props}/>\r\n        <div>Мой Id: {props.profile.userId}</div>\r\n        <div>Про себя:\r\n            {props.profile.aboutMe}\r\n        </div>\r\n        <div>Ищу работу: {props.profile.lookingForAJobDescription ? \"нет\" : \"да\"}</div>\r\n        <div>Какую работу я ищу: {props.profile.lookingForAJobDescription}</div>\r\n        <div>Мое имя: {props.profile.fullName}</div>\r\n    </>\r\n}\r\nconst ProfileMyContacts = (props) =>{\r\n    let contacts = !props.contacts ? \"\" : props.contacts\r\n    return `${props.title} : ${contacts}`\r\n}\r\n\r\nconst ProfileInfoEditer = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n       <img src={props.profile.photos.large || profilePhoto} />\r\n       <div><button>save</button></div>\r\n       { !!props.error && <div>{props.error}</div>}\r\n       <div>Про себя:\r\n            {createNewForm (\"aboutMe\", Textarea ,\"Про себя\")}\r\n        </div>\r\n        <div>Ищу работу:\r\n            {createNewForm (\"lookingForAJob\", \"input\",null, null, {type:\"checkbox\"})}\r\n        </div>\r\n        <div>Какую работу я ищу:\r\n            {createNewForm (\"lookingForAJobDescription\", Textarea, \"Какую работу я ищу\")}\r\n        </div>\r\n        <div>Мое имя: {createNewForm (\"fullName\", Input, \"Мое имя\")}</div>        \r\n        <div>\r\n            <b>Контакты</b>\r\n            {Object.keys(props.profile.contacts).map((elem, key)=>{\r\n                return <div key={key}>\r\n                    {createNewForm (`contacts.${elem}`, Input, elem)}\r\n                </div>\r\n            })}\r\n        </div>\r\n        \r\n    </form>\r\n}\r\n\r\nconst ProfileInfoEditerForm = reduxForm ({\r\n    form:\"ProfileInfoEditerForm\"\r\n})(ProfileInfoEditer)\r\nexport default ProfileInfo; ","import React, { Component } from 'react';\r\nimport MyPostsConteiner from \"./MyPosts/MyPostsConteiner\"\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nclass Profile extends React.Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <ProfileInfo \r\n                    profile={this.props.profile} \r\n                    status={this.props.status} \r\n                    editStatus={this.props.editStatus} \r\n                    setNewProfileInfo={this.props.setNewProfileInfo}\r\n                    bossProfile={this.props.bossProfile}\r\n                    saveNewPhoto={this.props.saveNewPhoto}\r\n                />\r\n                <MyPostsConteiner />\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Profile","import React, { Component } from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { getProfile, getStatus, editStatus, setNewProfileInfo, saveNewPhoto } from \"./../../redux/profileReducer\"\r\nimport { withRouter } from \"react-router-dom\"\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    updateProfile(){\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.idUser\r\n            if(!userId){\r\n                this.props.history.push(\"/find-users\")\r\n            }\r\n        }\r\n        this.props.getProfile(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n     \r\n    componentDidMount() {\r\n        this.updateProfile()\r\n   \r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot){\r\n        if(this.props.match.params.userId != prevProps.match.params.userId){\r\n            this.updateProfile()\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return <Profile \r\n            {...this.props} \r\n            profile={this.props.profile}\r\n            bossProfile={!this.props.match.params.userId}  \r\n            saveNewPhoto={this.props.saveNewPhoto}\r\n        />\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status:state.profilePage.status,\r\n        idUser:state.auth.userId\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { getProfile, getStatus, editStatus, setNewProfileInfo, saveNewPhoto }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n"],"sourceRoot":""}